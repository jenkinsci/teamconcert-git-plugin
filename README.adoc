Team Concert Git Plugin
=======================
:toc:
:toc-placement: preamble
:toclevels: 4

// Reference - See the following page for adding new images
// https://www.jenkins.io/doc/developer/publishing/wiki-page/

[.conf-macro .output-inline]#Integrates Jenkins with
https://jazz.net/products/rational-team-concert/[Rational Team
Concert] for Jenkins Builds which use Git as source control. This plugin
will create traceability links from a Jenkins build to Rational Team
Concert https://jazz.net/products/rational-team-concert/features/wi[Work
Items] and https://jazz.net/products/rational-team-concert/features/build[build] results.#

This plugin adds traceability links from a Jenkins build to an RTC build
result.  It also publishes links to work items and annotates the change
log generated by Jenkins with links to RTC Work Items; It leverages the
current RTC features and workflows that users are already familiar with
such as, emails, toaster popups, reporting, dashboards, etc.

=== Product Name Change
As of 7.0 release, Rational Team Concert is now called Engineering Workflow Management. Team Concert Plugin supports RTC releases 6.0 to 6.0.6.1 and EWM releases 7.0 to 7.0.2. In this documentation, wherever you find Rational Team Concert(RTC), you can substitute it with Engineering Workflow Management (EWM).

[[TeamConcertGitPlugin-Documentation]]
== Documentation

[[TeamConcertGitPlugin-RationalTeamConcertHelpTopics]]
=== Rational Team Concert Help Topics

. https://jazz.net/help-dev/clm/topic/com.ibm.team.build.doc/topics/t_build_overview.html[Rational
Team Concert Build Overview]
. https://jazz.net/help-dev/clm/index.jsp?re=1&topic=/com.ibm.team.build.doc/topics/c_hudson_overview.html&scope=null[Hudson/Jenkins
build engine type] (only if RTC Build integration is required).

[[TeamConcertGitPlugin-WorkingwithRationalTeamConcertandGit]]
=== Working with Rational Team Concert and Git

In addition to this plugin, Rational Team Concert can be used in teams
which use Git as the configuration management system. Following links
explain how you can use IBM Rational Team Concert to manage process
enforcement for Git source control operations and to associate work
items with Git commits.

. https://jazz.net/help-dev/clm/index.jsp?re=1&topic=/com.ibm.team.connector.cq.doc/topics/c_integ_git.html[Integrating
Rational Team Concert and Git]
. https://jazz.net/library/article/1423[Understanding the Git
Integration features in Rational Team Concert]

[[TeamConcertGitPlugin-Requirements]]
=== Requirements

[[TeamConcertGitPlugin-Jenkins]]
==== Jenkins

* This plugin requires http://git-scm.com/[Git] to be the Source Code Management system and works for _freestyle software and pipeline_ projects which use http://wiki.jenkins-ci.org/display/JENKINS/Git+Plugin[Git Clientplugin] for accessing the http://git-scm.com/[Git] source repository.
* Java 8 and above.
* Freestyle projects +
** Jenkins version 2.60.1 and above. Jenkins 2.277.1 LTS has been tested with the latest release.
* Pipeline projects  +
** Jenkins version 2.60.1 and above, Pipeline job plugin 2.11 and above. Jenkins 2.277.1 LTS has been tested with the latest release.

=== RTC

* This plugin needs Rational Team Concert server 6.0 and above.

[[TeamConcertGitPlugin-JobConfiguration]]
== Jenkins Job Configuration

[[TeamConcertGitPlugin-Freestylejob]]
==== Freestyle job

. Create a new free-style software project or open configure page of an
existing project. +
NOTE: Make sure Git is selected in the "Source Code Management" section
and is configured correctly.
. Find the "Build" section click on "Add Build Step" and select
"Rational Team Concert(RTC) integration with Git"
* [.confluence-embedded-file-wrapper]#image:https://wiki.jenkins.io/download/attachments/74416771/rtc_build_step.png?version=1&modificationDate=1413193734000&api=v2[image]# +
NOTE: It is recommended that you only add one instance of this RTC
build step per Jenkins job and make sure the RTC build step is the first
step to be executed.
. Configuring the Rational Team Concert server connection
.. To configure the Rational Team Concert server, enter the RTC
connection settings and specify the credentials to use when logging into
RTC for polling and linking.
* [.confluence-embedded-file-wrapper]#image:https://wiki.jenkins.io/download/attachments/74416771/rtc_connection_step.png?version=1&modificationDate=1413194492000&api=v2[image]# +
NOTE: Credentials are managed by the https://wiki.jenkins-ci.org/display/JENKINS/Credentials+Plugin[Credentials plugin]. The Team Concert plugin supports username and password type credentials. Credentials can be defined within a domain or a folder (if
you are using the folder's plugin).
.. Click the "Test connection" button to verify the repository
connection details.
* [.confluence-embedded-file-wrapper]#image:https://wiki.jenkins.io/download/attachments/74416771/test_connection.png?version=1&modificationDate=1413194711000&api=v2[image]#
. Specify the valid Jenkins URL to be used. This is a work around for
the cases where the plugin programmatically cannot find the URL of the
Jenkins instance. It is recommended that you provide this information to
make sure that the tractability links get created correctly.
* [.confluence-embedded-file-wrapper]#image:https://wiki.jenkins.io/download/attachments/74416771/jenkins_url.png?version=1&modificationDate=1413195471000&api=v2[image]#
. To enable the integration between this plugin and RTC Build
.. Enter a build definition ID.  See the
https://jazz.net/help-dev/clm/index.jsp?re=1&topic=/com.ibm.team.build.doc/topics/c_hudson_overview.html&scope=null[Hudson/Jenkins
build engine type] help topic to learn how to create a Jenkins build
definition. Make sure the build definition created in RTC does not have
any Source control option set.
* [.confluence-embedded-file-wrapper]#image:https://wiki.jenkins.io/download/attachments/74416771/rtc_build_def.png?version=1&modificationDate=1413195988000&api=v2[image]#
* Click the "Validate build definition" button to verify the RTC build
definition exists.
* [.confluence-embedded-file-wrapper]#image:https://wiki.jenkins.io/download/attachments/74416771/rtc_build_def_connection.png?version=1&modificationDate=1413196141000&api=v2[image]#
. To annotate the change log with RTC work item links select the option
"Annotate Change log with work items links"
* [.confluence-embedded-file-wrapper]#image:https://wiki.jenkins.io/download/attachments/74416771/annotate_change_log.png?version=1&modificationDate=1413345006000&api=v2[image]#
. To enable the integration between this plugin and RTC Work items
enable the option "Enable RTC Work Item Integration" and in the drop
down combo select the appropriate linking option
* [.confluence-embedded-file-wrapper]#image:https://wiki.jenkins.io/download/attachments/74416771/workitem_links.png?version=1&modificationDate=1413345235000&api=v2[image]#
. This plugin can update the status of the Jenkins build as comment in a
RTC work item. To enable this
.. Select the option "Update RTC Work Item with build status"
.. Mention the id of a valid work item in RTC. Note that you can provide
a Job parameter but, validation will not work.
.. Click the "Validate Work Item" button to verify the RTC Work Item
exists. +
 +
[.confluence-embedded-file-wrapper]#image:https://wiki.jenkins.io/download/attachments/74416771/rtc_tbi.png?version=1&modificationDate=1413345472000&api=v2[image]#
. Click the "Save" button to save the settings and return to the job
page.

[[TeamConcertGitPlugin-PipelineJobs]]
==== Pipeline Jobs

NOTE: Refer to Requirements section for pipeline jobs

. For a Pipeline project, use the Pipeline Syntax option to generate a
code snippet and use it in your pipeline script. +
 +

[[TeamConcertGitPlugin-PluginFeatures]]
=== Plugin Features

* Integrating with RTC Builds by creating a build result for a Jenkins
build and adding work item information from the Git commit comment
* Creating a link to Jenkins build in the work items mentioned in the
Git commit comment.
* Annotating work item references in the change log of a Jenkins build
with links to RTC work items
* Updating Jenkins build status in a work item.

[[TeamConcertGitPlugin-Supportedworkitemkeywords]]
=== Supported work item keywords

The following keywords are supported :

* rtcwi
* workitem
* work item
* defect
* task
* bug (deprecated)

Note : We recommend using rtcwi keyword for referencing RTC work items
in a commit comment.

[[TeamConcertGitPlugin-RTCLog]]
=== RTC Log

This section can be used to capture the log when debugging a problem
with the plugin.

. Navigate to the Jenkins /log page (Jenkins > Manage Jenkins > System
Log) and click the "Add new log recorder" button.
. Name it something like "RTC Log" and click the "Add" button to add a
logger.
. Enter a logger of "com.ibm.team.git" and set the log level to "FINER".
* [.confluence-embedded-file-wrapper]#image:https://wiki.jenkins.io/download/attachments/74416771/jenkins_configure_rtc_log.png?version=1&modificationDate=1413347257000&api=v2[image]#
. Click the "Save" button.
. Return to this log if a problem is ever experienced using this
plugin.  The log will help to identify the problem.

[[TeamConcertGitPlugin-Changelog]]
== Change log

[[TeamConcertGitPlugin-2.0.3Mar30,2021]]
=== 2.0.3 March 30, 2021
*  Compatibility update for Jenkins 2.277.1 LTS.  https://jazz.net/jazz/resource/itemName/com.ibm.team.workitem.WorkItem/524133[524133:Adoption - tables to divs migration for Team Concert Git Plugin]
Note: Team Concert Git Plugin continues to support LTS versions starting from 2.60.1

[[TeamConcertGitPlugin-2.0.2Dec15,2020]]
=== 2.0.2 December 22, 2020
* Support for SAML/OIDC app password - Work Item 511950

GitHub commit link -
https://github.com/jenkinsci/teamconcert-git-plugin/commit/[56e3d95]

[[TeamConcertGitPlugin-2.0.1July17,2020]]
=== 2.0.1 July 17, 2020
* Upgrade to Jenkins 2.60.1
* Upgrade to Java 8
* Drop support for RTC 5.x releases.

GitHub commit link -
https://github.com/jenkinsci/teamconcert-git-plugin/commit/[9b333d]

[[TeamConcertGitPlugin-2.0.0June15,2018]]
=== 2.0.0 June 15, 2018

* Support for pipeline projects
** Work Item 365450: Make TeamConcert-Git plugin compatible with
pipeline (formerly workflow)
* _Update work item with build status_ now supports Job parameters in a
Freestyle job.
** Work Item 451092: Support parameterization of the "Update RTC work
item with build status" field
* Support for two new keywords rtcwi and work item
** Work Item 460949: Support rtcwi and work item in Changelog Annotator
* Upgrade to parent pom 2.29
** Work Item 447619: Upgrade to parent pom 2.29
* Upgrade to Jenkins core 1.625.1
** Work Item 449355: Finalize the minimum required Jenkins core version
to 1.625.1
* Fix list:
** Work Item 416856: [Team Concert Git Plugin] RTC Build is not
completed if "Track build work item" is not specified.

GitHub commit link -
https://github.com/jenkinsci/teamconcert-git-plugin/commit/[3549102d]

[[TeamConcertGitPlugin-1.0.10October10,2014]]
=== 1.0.10 October 10, 2014

. Translation Update

[[TeamConcertGitPlugin-1.0.7June24,2014]]
=== 1.0.7 June 24, 2014

. Initial version of the plugin
